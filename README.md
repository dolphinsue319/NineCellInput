# NineCellInput

安裝前要做的是，要先在 mac 裡先執行 `ruby GenerateSounds.rb` 以產生所有中文字的發音，那些字的音檔會放在 `sounds/` 資料夾裡。

# 開發用 Spec
## 名詞定義
### 預聽, 提示
輸出聲音至私人喇叭。
### 輸出
輸出聲音至公開喇叭。
### 口頭禪群組
用來對口頭禪做分類，由兩個數字組成，例如: 11, 23, 89, 99...，總共會有64個群組可使用。
### 口頭禪
使用者常講的語句。
## 按下右搖桿(提示：您進入了選單模式)後進入選單模式，用右搖桿的方向選擇要進入哪一個模式。
	* 1 為自由輸入模式(提示：您進入了自由輸入模式)
	* 2 為口頭禪模式(提示：您進入了口頭禪模式)
	* 7 為設定操作環境模式(提示：您進入了設定操作環境模式)
	* 8 為操作說明模式模式(提示：您進入了說明模式)

### 自由輸入模式
顧名思義，也就是使用左搖桿進行九宮格輸入法，輸入完畢以後用右搖桿輸入 `3` 可以預聽目前為止輸入的字句(也就是不清除已輸入的字句)，輸入 `2` 會輸出該字句(清除已輸入的字句)。
當左搖桿碰到某個數字時，提示該數字，放掉時才是真正的輸入該數字。而放掉左搖桿時，系統會依照以下的情形分別做出提示：

	* 輸入了第一個數字，提示該數字。(因為兩個數字才會成為一個注音符號)
	* 輸入了一個注音符號，提示該注音符號。
	* 輸入了一個字，提示該字。

當輸入聲韻(1, 2, 3, 4, 輕聲)以後自動結束這個字的輸入，進入下一個字的輸入。
使用左搖桿的 `1` 可清除上一個輸入，會被清除的輸入同提示，例如當目前只輸入了1個數字，還無法組成注音符號時，清除該數字。若已輸入了兩個數字成為一個注音符號了，就清除最後一個注音符號，若是已完成一個字的輸入就清除最後那個字。
### 口頭禪模式
1. 選擇是要建立、刪除還是選擇，右搖桿的 `1` 為建立， `2` 為選擇，`3`為刪除。並提示使用者：`您正要[建立, 刪除, 選擇]口頭禪，請先選擇群組`
2. 選擇`口頭禪群組`並提示使用者目前選擇的是哪一個群組(`您選擇的群組是：xy`)

	#### 建立口頭禪
透過跟`自由輸入模式`相同的輸入方式建立一句口頭禪。差別在放最後的右鍵輸入 `2` 時不會輸出，而改成提示`您建立了一句口頭禪 + "該語句"`，並回到`選單模式`。

	### 選擇口頭禪模式
	1. 提示`請輸入您要說的口頭禪序號，輸入完畢請按下右鍵`
	2. 提示`您是否要說 + "該序號所代表的語句"。`
	3. 依照使用者的選擇做以下處理：
		4. `按下右鍵`：輸出該語句，回`選單模式`。
		5. `1`或`2`：回到`步驟2`。
		6. `其他`: 回到`選單模式`。

	#### 刪除口頭禪
	1. 提示`請輸入您要刪除的口頭禪序號，輸入完畢請按下右鍵`
	2. 提示`您是否要刪除 + "該序號所代表的語句"`
	3. 依照使用者的選擇做以下處理：
		4. `按下右鍵`：刪除該句口頭禪，提示使用者刪除成功，回`選單模式`。
		5. `1` 或 `2`：回到`步驟2`
		6. `其他`：回到`選單模式`。

### 設定操作環境模式
提示：`若您要開啟或關閉說明模式以外的操作提示，請輸入1`

### 操作說明模式
提示：`請問要聽取何種操作說明：如何輸入一句話，請輸入11。如何建立口頭禪，請輸入12。如何刪除或選擇口頭禪，請輸入13。如何關閉或開啟操作提示，請輸入14。`

* `11`: 請用左搖桿進行九宮格法輸入，當搖桿碰到相對應的數字方向時，系統會提示您目前您碰到的是哪個數字，當您確定要輸入這個數字時，才將搖桿放開。若這個數字不是您要的，您可以沿著邊緣移動搖桿到您要的方向後，再放開搖桿。若是您要刪掉前一個輸入的數字、注音符號或中文字，可用右搖桿輸入1。當您想確認目前輸入的語句時，可用右搖桿輸入3，系統會在您的耳機裡唸出您目前已輸入的語句。當您確定輸入的語句正確後，請用右搖桿輸入2，此時系統會透過外面的擴音器講出您剛剛輸入的語句，或將語語句新增進口頭禪群組裡。
* `12`: 您必須先選擇要將口頭禪建立在哪個口頭禪群組裡，每個口頭禪群組都會有一個由兩位數字所組成的代碼來代表該群組，所以您總共會有8乘8總共64個群組可使用。選擇好群組之後，您可以開始用左搖桿進行九宮格輸入您的口頭禪，輸入中可用右搖桿輸入3確認您目前輸入了哪些字，輸入完畢用右搖桿輸入2，該詞語會被加到該口頭禪群組的最後面。
* `13`: 口頭禪的刪除及選擇的操作方法相當類似，先輸入兩位數組成的口頭禪群組代碼，再輸入該口頭禪的序號，輸入完請按下右搖桿。這時系統會提示您選擇的是哪句口頭禪，接著您可以輸入1或2擇選前一個或下一個口頭禪，確認這個口頭禪是您要的之後，按下右鍵就會說出或刪除該句口頭禪。在這時您若是輸入其他數字，系統會回到選單模式。而由於九宮格輸入法無法輸入0跟9這兩個數字，建議您先輸入8，再用上一個或下一個口頭禪的方式選擇該口頭禪。
* `14`: 若是您已經熟悉大多數的操作，而不再需要太冗長的操作提示時，您可以在選單模式裡輸入7進入設定操作環境模式，將超過兩個字的提示關掉；也可以用相同的操作方式開啟提示。

# References
* [線上版九宮格輸入法](http://nine-cells-input.herokuapp.com/input)